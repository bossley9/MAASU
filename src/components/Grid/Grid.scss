@import 'src/util';

$numGridCells: 12;

// grid component

.grid {
    display: flex;
}

.grid-x {
    flex-flow: row wrap;
    flex-direction: row;

    & > .auto,
    & > .shrink {
        width: auto;
    }
}

.grid-y {
    flex-flow: column wrap;
    flex-direction: column;

    & > .auto,
    & > .shrink {
        height: auto;
    }
}

// cell component

.cell {
    flex: 0 0 auto;

    min-height: 0px;
    min-width: 0px;
    width: 100%;

    &.auto {
        flex: 1 1 0px;
    }
    
    &.shrink {
        flex: 0 0 auto;
    }
    
}

// media queries

$map: (
    sm: $sm-down,
    md: $md-only,
    lg: $lg-up,
);

@function calcGridSize($x) {
    @return 100% / $numGridCells * $x;
}

@each $key, $query in $map {
@media #{$query} {
    
    @for $i from 1 through $numGridCells {

        .grid-x > .#{$key}-#{$i},
        .grid-y > .#{$key}-#{$i} {
            flex-basis: auto;
            flex: 0 0 auto;
        }

        .grid-x > .#{$key}-#{$i} {
            width: calcGridSize($i);     
        }

        .grid-y > .#{$key}-#{$i} {
            height: calcGridSize($i);
        }
    }

}
}
